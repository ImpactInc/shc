/*
 * This file was generated by the Gradle 'init' task.
 */

allprojects {
    group = 'com.impact'
    version = '1.0'
}



ext {
    // Company libs
    dataCommonVer = "2.0.396-bcf27f5"
    identityVer = "1.0-beta"
    kuduForkVer = "alpaqa-11"
    paqlVer = "8003"
    platformVer = "1.20.569-bd562b6-release_1.20"
    shcForkVer = "bigtable-11"

    // Dataproc libs needed at compile that must match dataproc server
    bigtableVer = "1.12.0"
    gcsConnectorVer = "hadoop2-1.9.9"
    gcsStorageVer = "1.64.0"
    hadoopVer = "2.10.1"
    handlebarsVer = "4.2.0"
    hbaseVer = "2.1.4"
    scalaCompatVer = "_2.12"
    scalaVer = "2.12.10"
    sparkVer = "2.4.7"
    sparkJavaVer = "2.5"

    // Platform lib needs these
    hdrHistogramVer = "2.1.9"
    rollingHistogramVer = "2.0.4"
    typesafeConfigVer = "1.3.2"
    failsafeVer = "2.0.1"

    // Thirdparty libs
    antVer = "1.9.1"
    apacheCommonsPool2Ver = "2.7.0"
    avroVer = "1.8.2"
    bigQueryTransferVer = "0.120.0-beta"
    bigQueryVer = "1.87.0"
    commonsCodecVer = "1.11"
    commonsIoVer = "2.4"
    commonsLang3Ver = "3.5"
    commonsNetVer = "3.3"
    commonsPool2Ver = "2.7.0"
    commonsValidatorVer = "1.6"
    confluentVer = "6.0.0"
    dropwizardMetricsVer = "3.1.2"
    groovyVer = "2.4.4:indy"
    guavaVer = "20.0"
    hiveVer = "2.3.7"
    h2Ver = "1.4.199"
    impalaJdbcMajorVer = "41"
    impalaJdbcMinorVer = "2.6.15.1017"
    jacksonVer = "2.6.0"
    jedisVer = "3.1.0-m4"
    jmhVer = "1.17.4" // keep this on 1.17.4. We tried 1.21 which increased jmh benchmark from ~6min to ~1hr
    jodaVer = "2.9.9"
    kuduTestUtilsVer = "1.12.0"
    mysqlConnectVer = "8.0.18"
    nettyVer = "4.1.22.Final"
    parquetAvroVer = "1.6.0"
    parquetToolsVer = "1.10.1"
    prometheusVer = "0.0.23"
    redisClientVer = "3.10"
    scalaNullSafeVer = "1.2.4"
    servletApi = "3.1.0"
    slf4jVer = "1.7.4"
    sparkRedisVer = "2.3.1"
}

configure(subprojects.findAll { it.name != 'python' }) {
    apply from: "$rootDir/gradle/scala.gradle"

    repositories {
        if (project.hasProperty('local')) {
            println("Deferring to local dependency resolution")
            mavenLocal()
        }
        maven { url property('nexusAggregateUrl') }
    }

    configurations {
        compileAndJar
        compile { extendsFrom compileAndJar }
        lib
    }

    dependencies {
        implementation("org.scala-lang:scala-library:$scalaVer")
    }

    apply from: "$rootDir/gradle/test.gradle"
    apply from: "$rootDir/gradle/jar.gradle"
}
